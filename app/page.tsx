"use client";

import React, { useState, useEffect } from "react";

export default function Home() {
  // Start with empty set to avoid hydration mismatch
  const [visibleChars, setVisibleChars] = useState<Set<number>>(new Set());
  const [logoVisibleChars, setLogoVisibleChars] = useState<Set<number>>(new Set());
  const [isClient, setIsClient] = useState(false);

  // Set isClient to true after mount to avoid hydration issues
  useEffect(() => {
    setIsClient(true);
  }, []);

  const logoArt = `                                                                                                                                       
                                                                                                                                       
                                                                                                                                       
           C0                                                                 28                 62                                    
           000                                                               000C      A2       C000                                   
          5000E                                                                        63                                              
         E0 000                                                                        03                                              
         0A 7002         3312    9321B        00003  700C  4212  90006      4212    30000222E  7311         00008      9311B  0000     
        71   000           00      906      00     00  00    00CE    00       00      003        10D      04     00      0045    308   
        0     000          00      905     005     400       008     007      00      002        10D    A00      700     000     E00   
       08     100A         00      906     007     500       00      005      00      003        10D    000       00F    003     E00   
      900000000000         00      905     800     00B       00      005      00      003        10D    000       009    005     E00   
      0        D000        00      405       4027106         00      005      00      002        10D    000       00     006     E00   
     22         000        00      006     29                00      005      00      003   9    10D     00      200     005     E00   
    000         9000       804    6905    A0A                00      005      00      A00  98    10D      00    C07      005     E00   
 EAAAAAAAB    AAAAAAAAA      7447   AAA     30000000000    BAAAAA  FAAAAAF  AAAAAA      545    CAAAAA       8445       EAAAAA   AAAAAB 
                                           09         40                                                                               
                                          40          C0                                                                               
                                           06        E0                                                                                
                                              C4003C                                                                                   
`;

  const asciiArtOriginal = 
`000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200
406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040
030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103
705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070
000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200
406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040
030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103
705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070
000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200
406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040
030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103
705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070
000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200
406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040
030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103
705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070
000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200
406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040
030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103
70507050705070507050705070507050705BFDFBF050705070507057FDFBFDFBFDFBF05070507050705BFDFBFDFBFDFB70507050705070FBFDFBF050705070507050705070507050705070
00020002000200020002000200020002000      00200020002000F            700200020002000             000200020002009      002000200020002000200020002000200
40604060406040604060406040604060408      06040604060406D            F06040604060406             40604060406040F      060406040604060406040604060406040
03010301030103010301030103010301030      30103010301030E            830103010301030             030103010301036      301030103010301030103010301030103
705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070
000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200
406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040
030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103
705070507050705070507050705070507050705070507050F      07050705070507             B0705070507050D      07050705070507050705070507050705070507050705070
0002000200020002000200020002000200020002000200023      20002000200020             020002000200020      20002000200020002000200020002000200020002000200
406040604060406040604060406040604060406040604060F      04060406040604             C0406040604060A      04060406040604060406040604060406040604060406040
030103010301030103010301030103010302040203010301050305010301030103010503050305030501030103010301050305010301030204020301030103010301030103010301030103
70507050705070507050705070507050707      050705070507050705070507050705070507050705070507050705070507050705070F      050705070507050705070507050705070
00020002000200020002000200020002000      0020002000200020002000200020002000200020002000200020002000200020002009      002000200020002000200020002000200
40604060406040604060406040604060408      060406040604060406040604060406040604060406040604060406040604060406040F      060406040604060406040604060406040
03010301030103010301030103010301030      3010301030103010301036E8F6E430103010301030E8F6E83010301030103010301038      301030103010301030103010301030103
70507050705070507050705070507050707      050705070507050705070      F05070507050705      150705070507050705070F      050705070507050705070507050705070
00020002000200020002000200020002000      002000200020002000200      700200020002000      2020002000200020002009      002000200020002000200020002000200
40604060406040604060406040604060407      060406040604060406040      F06040604060406      060406040604060406040F      060406040604060406040604060406040
0301030103010301030103010301030103010301030103016      103010301030103010301030103010301030103011      10301030103010301030103010301030103010301030103
705070507050705070507050705070507050705070507050F      07050705070507050705070507050705070507050D      07050705070507050705070507050705070507050705070
0002000200020002000200020002000200020002000200023      200020002000200020002000200020002000200020      20002000200020002000200020002000200020002000200
406040604060406040604060406040604060406040604060F      04060406040604060406040604060406040604060A      04060406040604060406040604060406040604060406040
0301030103010301030103010301030103010301030103016      103010301030103010301030103010301030103011      10301030103010301030103010301030103010301030103
705070507050705070507050705070507050705070507050F      07050705070507050705070507050705070507050D      07050705070507050705070507050705070507050705070
0002000200020002000200020002000200020002000200023      200020002000200020002000200020002000200020      20002000200020002000200020002000200020002000200
40604060406040604060406040604060406040604060406087F9F7F0406040604060406040604060406040604060406047F9F7F04060406040604060406040604060406040604060406040
03010301030103010301030103010301030      301030103010301030103      A30103010301030      5010301030103010301038      301030103010301030103010301030103
70507050705070507050705070507050707      050705070507050705070      F05070507050705      150705070507050705070F      050705070507050705070507050705070
00020002000200020002000200020002000      002000200020002000200      700200020002000      2020002000200020002009      002000200020002000200020002000200
40604060406040604060406040604060408      060406040604060406040917091406040604060406170917060406040604060406040F      060406040604060406040604060406040
03010301030103010301030103010301030      3010301030103010301030103010301030103010301030103010301030103010301038      301030103010301030103010301030103
70507050705070507050705070507050707      050705070507050705070507050705070507050705070507050705070507050705070F      050705070507050705070507050705070
00020002000200020002000200020002000      0020002000200020002000200020002000200020002000200020002000200020002009      002000200020002000200020002000200
40604060406040604060406040604060406040604060406064E6C4E040604060406044E6C4E6C4E6C46040604060406044E6C4E04060406040604060406040604060406040604060406040
0301030103010301030103010301030103010301030103016      10301030103010             010301030103011      10301030103010301030103010301030103010301030103
705070507050705070507050705070507050705070507050F      07050705070507             B0705070507050D      07050705070507050705070507050705070507050705070
0002000200020002000200020002000200020002000200023      20002000200020             020002000200020      20002000200020002000200020002000200020002000200
406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040
030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103
705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070
000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200
40604060406040604060406040604060407      06040604060406C            F06040604060406             40604060406040F      060406040604060406040604060406040
03010301030103010301030103010301030      30103010301030F            A30103010301030             030103010301038      301030103010301030103010301030103
70507050705070507050705070507050707      05070507050705C            F05070507050705             70507050705070F      050705070507050705070507050705070
00020002000200020002000200020002000      00200020002000F            500200020002000             000200020002007      002000200020002000200020002000200
406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040
030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103
705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070
000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200
406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040
030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103
705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070
000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200
406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040
030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103
705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070
000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200
406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040
030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103010301030103
705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070507050705070
000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200020002000200
406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040604060406040
`;

  useEffect(() => {
    if (!isClient) return; // Only run animation on client side
    
    const interval = setInterval(() => {
      const newVisibleChars = new Set<number>();
      for (let i = 0; i < asciiArtOriginal.length; i++) {
        if (asciiArtOriginal[i] !== '\n' && Math.random() > 0.3) {
          newVisibleChars.add(i);
        }
      }
      setVisibleChars(newVisibleChars);
    }, 150);
    return () => clearInterval(interval);
  }, [isClient, asciiArtOriginal]);

  useEffect(() => {
    if (!isClient) return; // Only run animation on client side
    
    const interval = setInterval(() => {
      const newLogoVisibleChars = new Set<number>();
      for (let i = 0; i < logoArt.length; i++) {
        if (logoArt[i] !== '\n' && Math.random() > 0.3) {
          newLogoVisibleChars.add(i);
        }
      }
      setLogoVisibleChars(newLogoVisibleChars);
    }, 150);
    return () => clearInterval(interval);
  }, [isClient, logoArt]);

  const renderAnimatedArt = () => {
    return asciiArtOriginal
      .split('')
      .map((char, index) => {
        if (char === '\n') return char;
        return visibleChars.has(index) ? char : ' ';
      })
      .join('');
  };

  const renderAnimatedLogo = () => {
    return logoArt
      .split('')
      .map((char, index) => {
        if (char === '\n') return char;
        return logoVisibleChars.has(index) ? char : ' ';
      })
      .join('');
  };

  return (
    <main className="min-h-screen relative" style={{ backgroundColor: '#FFFFFF' }}>
      {/* Desktop: Fixed ASCII art logo */}
      <div className="hidden md:block fixed left-4 top-4 z-10">
        <pre className="text-[5px] font-mono leading-none text-black" style={{ fontFamily: 'monospace' }}>
          {renderAnimatedLogo()}
        </pre>
      </div>
      
      {/* Mobile: SVG logo only */}
      <div className="md:hidden fixed left-4 top-2 z-20">
        <img src="/prehension.svg" alt="Augnition" className="h-6" />
        </div> 
      <div className="hidden md:flex fixed bottom-4 left-4 flex-col gap-2 font-mono uppercase z-10">
        <a href="https://medium.com/@augnition" target="_blank" rel="noopener noreferrer" className="text-xs text-black hover:text-gray-300 transition-colors duration-200 focus:outline-none focus:text-gray-300">Case Studies↗</a>
        <a href="mailto:hello@augnition.xyz" className="text-xs text-black hover:text-gray-300 transition-colors duration-200 focus:outline-none focus:text-gray-300">INQUIRIES↗</a>
        <p className="text-xs text-black">© 2025 Augnition Research</p>
        </div>
      
      {/* Mobile: Navigation bar */}
      <nav className="md:hidden fixed top-0 left-0 right-0 bg-white border-b border-black px-4 py-3 z-10 flex items-center justify-between">
        <div className="flex items-center gap-4 font-mono uppercase text-xs ml-auto">
          <a href="https://medium.com/@augnition" target="_blank" rel="noopener noreferrer" className="text-xs text-black hover:text-gray-300 transition-colors duration-200 focus:outline-none focus:text-gray-300">Case Studies↗</a>
          <a href="mailto:hello@augnition.xyz" className="text-black hover:text-gray-300 transition-colors duration-200 focus:outline-none focus:text-gray-300">INQUIRIES↗</a>
        </div>
      </nav>
      
      {/* Mobile: Footer with copyright */}
      <div className="md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-black px-4 py-2 z-10 text-center">
        <p className="text-xs text-black font-mono uppercase">© 2025 Augnition Research</p>
      </div>
      <div 
        className="custom-scrollbar fixed left-0 md:left-auto md:right-0 top-0 bottom-0 w-full md:max-w-[600px] px-6 md:pr-4 pt-[60px] pb-[60px] md:py-[100px] overflow-y-auto overflow-x-visible"
        style={{
          fontFamily: '"Old Standard TT", serif',
          fontSize: '18px',
          lineHeight: '1.4',
          color: '#000000',
        }}
      >
        <h2 className="text-xs font-normal mb-6 font-mono uppercase">Introducing Augnition </h2>
        <p className="mb-6"> Sensemaking complexity at the intersection of data, design, and decision.</p>
        <div className="overflow-x-auto mb-6 -mr-4 scrollbar-hide" style={{ width: 'calc(100% + 16px)' }}>
          <pre className="text-[4px] md:text-[6px] font-mono leading-none whitespace-pre inline-block" style={{ fontFamily: 'monospace', color: '#000000' }}>
            {renderAnimatedArt()}
          </pre>
        </div>
        <p className="text-xs font-normal mb-6 font-mono uppercase" >01</p>
        <p className="mb-6">We're developing foundational knowledge tools native to continually evolving environments.</p>
        <p className="text-xs font-normal mb-6 font-mono uppercase" >02</p>
        <p className="mb-6">We’re bypassing noise, identifying patterns, and mapping the trajectories of human ingenuity.</p>
        <p className="text-xs font-normal mb-6 font-mono uppercase" >03</p>
        <p className="mb-6">Our aim is to help both institutional investors and founders systematically mitigate industry uncertainty and enhance their capacity to foster sovereign technologies.</p>
        <p className="text-xs font-normal mb-6 font-mono uppercase" >04</p>
        <p className="mb-6">We're insatiably skeptical and obsessed with uncovering truth in possibilities.</p>
        <p className="text-xs font-normal mb-6 font-mono uppercase" >05</p>
        <p className="mb-6">Augnition is an applied research project led by <a href="https://www.linkedin.com/in/yannick-bruderlein-423b0226a/" target="_blank" rel="noopener noreferrer" className="text-black hover:text-gray-300 transition-colors duration-200 underline">Yannick Bruderlein</a></p>
      </div>
    </main>
  );
}